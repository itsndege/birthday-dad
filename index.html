<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Birthday Dad</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body { 
    font-family: Arial, sans-serif; 
    text-align: center; 
    padding: 40px; 
    background-color: beige; 
    overflow-x: hidden; 
}
button { 
    padding: 10px 18px; 
    margin: 6px; 
    font-size: 16px; 
    cursor: pointer; 
    border: none; 
    border-radius: 10px; 
    background-color: black; 
    color: white; 
    transition: all 0.3s; 
}
button:hover { background-color: lightblue; color: black; }
#revealBtn, #musicToggleBtn { animation: pulse 1.5s infinite; }
.card { 
    max-width: 700px; 
    margin: 50px auto; 
    padding: 40px; 
    background: #fffaf5; 
    border-radius: 12px; 
    box-shadow: 0 10px 25px rgba(0,0,0,0.1); 
    border: 1px solid #f0e4d7; 
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInCard 1s forwards;
}
.card:nth-of-type(1) { animation-delay: 0.3s; }
.card:nth-of-type(2) { animation-delay: 0.6s; }
.card:nth-of-type(3) { animation-delay: 0.9s; }
.card h2 { 
    font-family: 'Brush Script MT','Segoe Script',cursive; 
    font-size: 32px; 
    margin-bottom: 20px; 
    color: #5a3e2b; 
}
.card p { 
    font-family: 'Segoe Script','Comic Sans MS',cursive; 
    font-size: 18px; 
    line-height: 1.8; 
    color: #4a3a2a; 
    margin-bottom: 16px; 
}
@keyframes fadeInCard {
    to { opacity: 1; transform: translateY(0); }
}
@keyframes pulse { 
    0% { transform: scale(1); box-shadow:0 0 0 rgba(0,0,0,0.2); } 
    50% { transform: scale(1.05); box-shadow:0 0 15px rgba(0,0,0,0.4); } 
    100% { transform: scale(1); box-shadow:0 0 0 rgba(0,0,0,0.2);} 
}
#videoModal { display: none; position: fixed; z-index:1000; left:0; top:0; width:100%; height:100%; background-color: rgba(0,0,0,0.7); justify-content:center; align-items:center; opacity:0; transition: opacity 0.4s ease; }
#videoModal.show { display:flex; opacity:1; }
#videoModalContent { position:relative; max-width:95%; max-height:95%; display:flex; justify-content:center; align-items:center; transform:scale(0.8); transition: transform 0.4s ease; }
#videoModal.show #videoModalContent { transform:scale(1); }
#videoModalContent video { max-width:100%; max-height:100%; width:auto; height:auto; border-radius:10px; }
#videoModalClose { position:absolute; top:-15px; right:-15px; background:red; color:white; border:none; border-radius:50%; font-size:18px; width:30px; height:30px; cursor:pointer; }
#result { margin-top:20px; font-size:18px; font-weight:bold; }
.correct { color:green; }
.wrong { color:red; }
#funFactsQuiz { display:none; margin-top:30px; opacity:0; transition: opacity 1s ease; }
#funFactsQuiz.show { display:block; opacity:1; }
#fact { font-size: 18px; background: #fffae6; padding: 20px; border-radius: 12px; display: inline-block; box-shadow: 0 6px 15px rgba(0,0,0,0.2); transition: transform 0.3s, background 0.3s; }
#fact:hover { transform: scale(1.05); background: #fff2cc; }
#countdown { margin-top: 40px; font-size: 24px; font-weight: bold; color: #ffffff; background: linear-gradient(135deg, #ff9a9e, #fad0c4); padding: 20px 30px; border-radius: 15px; display: inline-block; box-shadow: 0 8px 20px rgba(0,0,0,0.25); animation: pulseCountdown 2s infinite; }
@keyframes pulseCountdown { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
.confetti { position: fixed; width: 10px; height: 10px; opacity: 0.7; z-index: 9999; pointer-events: none; animation: fall linear infinite; }
@keyframes fall { 0% { transform: translateY(0) rotate(0deg); } 100% { transform: translateY(100vh) rotate(360deg); } }
</style>
</head>

<body>

<h1 style="opacity:0; transform: translateY(20px); animation: fadeInCard 1s forwards; animation-delay:0s;">üéâ Happy Birthday Dad üéâ</h1>

<div class="card">
    <h2>üíô A Message for You</h2>
    <p>
        Today we‚Äôd like to celebrate with you your special day. 
        We just want to say thank you for being our constant source of strength and guidance. 
        Your love, patience, and quiet sacrifices have touched our lives in countless ways words cannot explain.
    </p>
    <p>
        We‚Äôre grateful for your support, your wisdom, and the way you always believe in us, 
        even when we doubt ourselves. Your care and love mean the world to us. 
        We are truly blessed to have you in our lives, and we wish you a day filled with peace, joy, and happiness.
    </p>
    <p style="margin-top:30px;">‚Äî With love, The Iddy's‚ù§Ô∏è</p>
</div>

<div style="margin-top:20px;">
    <button id="musicToggleBtn">‚è∏ Pause Music</button>
</div>

<div style="margin-top:30px;">
    <button class="videoBtn" data-video="video/Mum-Message-small.mp4">üé• Message from Mum</button>
    <button class="videoBtn" data-video="video/Shanny-Message-small.mp4">üé• Message from Shanny</button>
    <button class="videoBtn" data-video="video/Silo-Message-small.mp4">üé• Message from Silo</button>
    <button class="videoBtn" data-video="video/Dance-small.mp4">üíÉ Dance for Dad</button>
</div>

<div id="videoModal">
    <div id="videoModalContent">
        <button id="videoModalClose">&times;</button>
        <video id="birthdayVideo" controls preload="auto">
            <source src="" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
</div>

<div style="margin-top:20px;">
    <button id="revealBtn">‚ú® Continue to Fun Facts & Quiz</button>
</div>

<div id="funFactsQuiz">
    <p id="fact">Click to see a fun fact üçÄ</p>
    <button id="factBtn">Show Fun Fact</button>
    <h3>What is Dad's favorite hobby? üéØ</h3>
    <button class="answer" data-answer="A">üèãÔ∏è Gym</button>
    <button class="answer" data-answer="B">ü•É Drinking</button>
    <button class="answer" data-answer="C">üå± Gardening</button>
    <button class="answer" data-answer="D">üé£ Fishing</button>
    <p id="result"></p>
</div>

<p id="countdown"></p>

<script>
const music = new Audio("audio/happy-birthday-harmonize.mp3");
music.loop = true; music.volume = 1; 
let musicPlaying = false;

function fadeAudio(audio, targetVolume, duration){
    const step=(targetVolume-audio.volume)/(duration/50);
    return new Promise(resolve=>{
        const fadeInterval=setInterval(()=>{
            audio.volume+=step;
            if((step>0 && audio.volume>=targetVolume)||(step<0 && audio.volume<=targetVolume)){
                audio.volume=targetVolume;
                clearInterval(fadeInterval);
                resolve();
            }
        },50);
    });
}

document.body.addEventListener('click', ()=>{
    if(!musicPlaying){
        music.play().then(()=>{ musicPlaying=true; musicBtn.textContent="‚è∏ Pause Music"; })
        .catch(err=>console.log("Autoplay blocked, waiting for user interaction."));
    }
},{once:true});

const musicBtn=document.getElementById("musicToggleBtn");
musicBtn.addEventListener("click", ()=>{
    if(!musicPlaying){
        music.play();
        musicPlaying=true;
        musicBtn.textContent="‚è∏ Pause Music";
    } else {
        music.pause();
        musicPlaying=false;
        musicBtn.textContent="‚ñ∂Ô∏è Play Music";
    }
});

const videoModal=document.getElementById("videoModal");
const videoModalClose=document.getElementById("videoModalClose");
const birthdayVideo=document.getElementById("birthdayVideo");

async function openVideoModal(src){
    if(musicPlaying) await fadeAudio(music,0,400);
    birthdayVideo.querySelector("source").src=src;
    birthdayVideo.load();
    videoModal.classList.add("show");
    birthdayVideo.play();
}

async function closeVideoModal(){
    birthdayVideo.pause();
    videoModal.classList.remove("show");
    birthdayVideo.currentTime=0;
    if(musicPlaying) await fadeAudio(music,1,400);
}

document.querySelectorAll(".videoBtn").forEach(btn=>{
    btn.addEventListener("click",()=>openVideoModal(btn.getAttribute("data-video")));
});

videoModalClose.addEventListener("click",closeVideoModal);
videoModal.addEventListener("click",(e)=>{ if(e.target===videoModal) closeVideoModal(); });

document.getElementById("revealBtn").addEventListener("click", ()=>{
    const quizDiv = document.getElementById("funFactsQuiz");
    quizDiv.classList.add("show");
    document.getElementById("revealBtn").style.display="none";
});

const facts=["ü•É Dad likes taking whisky on weekends!","‚ù§Ô∏è Dad always supports his family.","üí° Dad gives the best advice."];
let i=0;
document.getElementById("factBtn").addEventListener("click", ()=>{
    const factEl=document.getElementById("fact");
    factEl.textContent=facts[i];
    i=(i+1)%facts.length;
    factEl.style.transform="scale(1.05)";
    setTimeout(()=>{ factEl.style.transform="scale(1)"; },200);
});

document.querySelectorAll(".answer").forEach(btn=>{
    btn.addEventListener("click",()=>{
        const result=document.getElementById("result");
        if(btn.dataset.answer==="B"){ 
            result.textContent="üòÇ I knew you'd come here, this is not a hobby but a leisure activity! Try again."; 
            result.className="wrong"; 
        } else if(btn.dataset.answer==="A"){ 
            result.textContent="‚úÖ Correct! Dad loves Gym!"; 
            result.className="correct"; 
        } else { 
            result.textContent="‚ùå Not quite ‚Äî try again!"; 
            result.className="wrong"; 
        }
    });
});

function updateCountdown(){
    const birthday=new Date("December 16, 2025 00:00:00");
    const now=new Date();
    const diff=birthday-now;
    if(diff<=0){ 
        document.getElementById("countdown").textContent="üéÇ Happy Birthday Dad!"; 
        launchConfetti(); 
        return; 
    }
    const d=Math.floor(diff/(1000*60*60*24));
    const h=Math.floor((diff/(1000*60*60))%24);
    const m=Math.floor((diff/(1000*60))%60);
    const s=Math.floor((diff/1000)%60);
    document.getElementById("countdown").textContent=`Countdown: ${d}d ${h}h ${m}m ${s}s`;
}
updateCountdown();
setInterval(updateCountdown,1000);

function launchConfetti(){
    const colors=["#ff0a54","#ff477e","#ff7096","#ff85a1","#fbb1b9","#f9bec7","#f7cad0","#ffd60a","#ffb347","#00cfff","#4cff00"];
    const confettiInterval = setInterval(()=>{
        for(let i=0;i<7;i++){
            const conf=document.createElement("div");
            conf.classList.add("confetti");
            conf.style.backgroundColor=colors[Math.floor(Math.random()*colors.length)];
            conf.style.left=(Math.random()*100)+"vw";
            conf.style.top="-10px";
            conf.style.width=(Math.random()*8+4)+"px";
            conf.style.height=(Math.random()*8+4)+"px";
            conf.style.animationDuration=(Math.random()*3+2)+"s";
            conf.style.opacity=Math.random()*0.9+0.1;
            conf.style.transform = `rotate(${Math.random()*360}deg)`;
            document.body.appendChild(conf);
            setTimeout(()=>{ conf.remove(); },5000);
        }
    },80);
    setTimeout(()=>{ clearInterval(confettiInterval); },8000);
}
</script>

</body>
</html>
